!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=r.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var r=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var l=Error("Cannot find module '"+e+"'");throw l.code="MODULE_NOT_FOUND",l}).register=function(e,r){o[e]=r},r.parcelRequired7c6=a);var l=a("6JpON"),n=a("97kl9"),i=a("8Cjk9"),s=a("5IjG7");let d={formEL:document.querySelector("#search-form"),galleryListEl:document.querySelector(".gallery"),loadMoreBtn:document.querySelector(".load-more")},c=new/*@__PURE__*/(e(s))(".gallery a"),u=new i.PixabayAPI;async function f(r){if(r.preventDefault(),u.q=r.target.elements.searchQuery.value.trim(),u.page=1,""===u.q){/*@__PURE__*/e(l).Notify.failure("Enter a word to search for"),d.loadMoreBtn.classList.add("is-hidden");return}try{let t=await u.getGalleryCard();if(0===t.total){/*@__PURE__*/e(l).Notify.failure("Sorry, there are no images matching your search query. Please try again."),d.loadMoreBtn.classList.add("is-hidden"),r.target.reset(),d.galleryListEl.innerHTML="";return}1===u.page&&(d.galleryListEl.innerHTML=(0,n.galleryTemplate)(t.hits),c.refresh(),/*@__PURE__*/e(l).Notify.success(`Hooray! We found ${t.totalHits} images.`),d.loadMoreBtn.classList.remove("is-hidden"))}catch(e){console.log(`Error: ${e}`)}}async function y(r){u.page+=1;try{let r=await u.getGalleryCard();d.galleryListEl.insertAdjacentHTML("beforeend",(0,n.galleryTemplate)(r.hits)),c.refresh(),d.loadMoreBtn.classList.remove("is-hidden");let{height:t}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();window.scrollBy({top:2*t,behavior:"smooth"}),u.page===Math.floor(r.totalHits/u.per_page)&&(d.loadMoreBtn.classList.add("is-hidden"),/*@__PURE__*/e(l).Notify.info("Sorry, but you have reached the end of the search results"))}catch(e){console.log(`Error: ${e}`)}}d.formEL.addEventListener("submit",f),d.loadMoreBtn.addEventListener("click",y)}();//# sourceMappingURL=index.6f314c9c.js.map

//# sourceMappingURL=index.6f314c9c.js.map
