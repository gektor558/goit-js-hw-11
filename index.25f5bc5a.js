!function(){function e(e){return e&&e.__esModule?e.default:e}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},l=r.parcelRequired7c6;null==l&&((l=function(e){if(e in t)return t[e].exports;if(e in o){var r=o[e];delete o[e];var l={id:e,exports:{}};return t[e]=l,r.call(l.exports,l,l.exports),l.exports}var a=Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,r){o[e]=r},r.parcelRequired7c6=l);var a=l("6JpON"),i=l("97kl9"),n=l("8Cjk9"),s=l("5IjG7");let d={formEL:document.querySelector("#search-form"),galleryListEl:document.querySelector(".gallery"),loader:document.querySelector(".loader")},c=new/*@__PURE__*/(e(s))(".gallery a"),f=new n.PixabayAPI;async function u(r){if(r.preventDefault(),f.q=r.target.elements.searchQuery.value.trim(),f.page=1,""===f.q){/*@__PURE__*/e(a).Notify.failure("Enter a word to search for"),d.loader.classList.add("is-hidden");return}try{let t=await f.getGalleryCard();if(0===t.total){/*@__PURE__*/e(a).Notify.failure("Sorry, there are no images matching your search query. Please try again."),d.loader.classList.add("is-hidden"),r.target.reset(),d.galleryListEl.innerHTML="";return}1===f.page&&(d.galleryListEl.innerHTML=(0,i.galleryTemplate)(t.hits),c.refresh(),/*@__PURE__*/e(a).Notify.success(`Hooray! We found ${t.totalHits} images.`),d.loader.classList.remove("is-hidden"))}catch(e){console.log(`Error: ${e}`)}}async function y(){let r=window.innerHeight+window.pageYOffset>=document.body.offsetHeight;if(r){window.removeEventListener("scroll",y),d.loader.classList.remove("is-hidden"),f.page+=1;try{let r=await f.getGalleryCard();d.galleryListEl.insertAdjacentHTML("beforeend",(0,i.galleryTemplate)(r.hits)),c.refresh();let{height:t}=document.querySelector(".gallery").firstElementChild.getBoundingClientRect();if(window.scrollBy({top:2*t,behavior:"smooth"}),f.page===Math.floor(r.totalHits/f.per_page)){d.loader.classList.add("is-hidden"),/*@__PURE__*/e(a).Notify.info("Sorry, but you have reached the end of the search results");return}window.addEventListener("scroll",y)}catch(e){console.log(`Error: ${e}`)}}}d.formEL.addEventListener("submit",u),window.addEventListener("scroll",y)}();//# sourceMappingURL=index.25f5bc5a.js.map

//# sourceMappingURL=index.25f5bc5a.js.map
