{"mappings":"A,S,E,C,E,O,G,E,U,C,E,O,C,C,C,I,E,A,a,O,W,W,A,a,O,K,K,A,a,O,O,O,A,a,O,O,O,C,E,E,C,E,E,C,E,E,E,iB,A,O,I,A,C,E,S,C,E,G,K,E,O,C,C,E,C,O,C,G,K,E,C,I,E,C,C,E,A,Q,C,C,E,C,I,E,C,G,E,Q,C,C,E,O,C,C,E,C,E,E,I,C,E,O,C,E,E,O,E,E,O,A,C,I,E,A,M,uB,E,I,O,E,I,C,mB,C,C,E,Q,C,S,C,C,C,E,C,C,E,C,C,E,E,iB,C,G,I,E,E,S,E,E,S,E,E,S,E,E,SCMA,MAAM,EAAO,CACT,OAAQ,SAAS,aAAA,CAAc,gBAC/B,cAAe,SAAS,aAAA,CAAc,YACtC,YAAa,SAAS,aAAA,CAAc,aAExC,EAEM,EAAS,GAAI,WAAA,EAAA,CAAA,EAAA,EAAA,EAAe,cAC5B,EAAa,IAAI,EAAA,UAAS,CAKhC,eAAe,EAAe,CAAK,EAM/B,GALA,EAAM,cAAN,GAEA,EAAW,CAAA,CAAI,EAAM,MAAA,CAAO,QAAA,CAAS,WAAA,CAAY,KAAA,CAAM,IAAvD,GACA,EAAW,IAAA,CAAO,EAEd,AAAiB,KAAjB,EAAW,CAAA,CAAU,CACrB,AAAA,WAAA,EAAA,EAAA,GAAS,MAAA,CAAO,OAAA,CAAQ,8BACxB,EAAK,WAAA,CAAY,SAAA,CAAU,GAAA,CAAI,aAC/B,MACJ,CAEA,GAAI,CAEA,IAAM,EAAO,MAAM,EAAW,cAA9B,GAEJ,GAAI,AAAe,IAAf,EAAK,KAAA,CAAa,CACjB,AAAA,WAAA,EAAA,EAAA,GAAS,MAAA,CAAO,OAAA,CAAQ,4EACzB,EAAK,WAAA,CAAY,SAAA,CAAU,GAAA,CAAI,aAC/B,EAAM,MAAA,CAAO,KAAb,GAEA,EAAK,aAAA,CAAc,SAAA,CAAY,GAE/B,MACJ,CAEwB,IAApB,EAAW,IAAA,GACX,EAAK,aAAA,CAAc,SAAA,CAAY,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,EAAK,IAApD,EACA,EAAO,OAAP,GACA,AAAA,WAAA,EAAA,EAAA,GAAS,MAAA,CAAO,OAAA,CAAQ,CAAC,iBAAiB,EAAE,EAAK,SAAA,CAAU,QAAQ,CAAC,EACpE,EAAK,WAAA,CAAY,SAAA,CAAU,MAAA,CAAO,aAEtC,CAAE,MAAO,EAAK,CACV,QAAQ,GAAA,CAAI,CAAC,OAAO,EAAE,EAAI,CAAC,CAC/B,CAGJ,CAEC,eAAe,EAAmB,CAAK,EACpC,EAAW,IAAA,EAAQ,EACnB,GAAI,CACA,IAAM,EAAO,MAAM,EAAW,cAA9B,GACA,EAAK,aAAA,CAAc,kBAAA,CAAmB,YAAa,AAAA,CAAA,EAAA,EAAA,eAAc,AAAd,EAAgB,EAAK,IAAxE,GACA,EAAO,OAAP,GACA,EAAK,WAAA,CAAY,SAAA,CAAU,MAAA,CAAO,aAClC,GAAM,CAAE,OAAQ,CAAU,CAAE,CAAG,SAAS,aAAA,CAAc,YAAY,iBAAA,CAAkB,qBAApF,GAEA,OAAO,QAAA,CAAS,CACZ,IAAK,AAAa,EAAb,EACL,SAAU,QACd,GAEI,EAAW,IAAA,GAAS,KAAK,KAAA,CAAM,EAAK,SAAA,CAAY,EAAW,QAAA,IAC3D,EAAK,WAAA,CAAY,SAAA,CAAU,GAAA,CAAI,aAC/B,AAAA,WAAA,EAAA,EAAA,GAAS,MAAA,CAAO,IAAA,CAAK,6DAE7B,CAAE,MAAO,EAAK,CACV,QAAQ,GAAA,CAAI,CAAC,OAAO,EAAE,EAAI,CAAC,CAC/B,CACJ,C,2D;AA/DA,EAAK,MAAA,CAAO,gBAAA,CAAiB,SAAU,GACvC,EAAK,WAAA,CAAY,gBAAA,CAAiB,QAAS","sources":["<anon>","src/js-gallery/btn-template.js"],"sourcesContent":["function $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $7Y9D8 = parcelRequire(\"7Y9D8\");\n\nvar $9l3Zi = parcelRequire(\"9l3Zi\");\n\nvar $jcbua = parcelRequire(\"jcbua\");\n\nvar $fZKcF = parcelRequire(\"fZKcF\");\n\nconst $aa889b584b425018$var$refs = {\n    formEL: document.querySelector(\"#search-form\"),\n    galleryListEl: document.querySelector(\".gallery\"),\n    loadMoreBtn: document.querySelector(\".load-more\")\n};\nconst $aa889b584b425018$var$simple = new (0, (/*@__PURE__*/$parcel$interopDefault($fZKcF)))(\".gallery a\");\nconst $aa889b584b425018$var$pixabayApi = new (0, $jcbua.PixabayAPI)();\n$aa889b584b425018$var$refs.formEL.addEventListener(\"submit\", $aa889b584b425018$var$onFormElSubmit);\n$aa889b584b425018$var$refs.loadMoreBtn.addEventListener(\"click\", $aa889b584b425018$var$onloadMoreBtnClick);\nasync function $aa889b584b425018$var$onFormElSubmit(event) {\n    event.preventDefault();\n    $aa889b584b425018$var$pixabayApi.q = event.target.elements.searchQuery.value.trim();\n    $aa889b584b425018$var$pixabayApi.page = 1;\n    if ($aa889b584b425018$var$pixabayApi.q === \"\") {\n        (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Notify.failure(\"Enter a word to search for\");\n        $aa889b584b425018$var$refs.loadMoreBtn.classList.add(\"is-hidden\");\n        return;\n    }\n    try {\n        const data = await $aa889b584b425018$var$pixabayApi.getGalleryCard();\n        if (data.total === 0) {\n            (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");\n            $aa889b584b425018$var$refs.loadMoreBtn.classList.add(\"is-hidden\");\n            event.target.reset();\n            $aa889b584b425018$var$refs.galleryListEl.innerHTML = \"\";\n            return;\n        }\n        if ($aa889b584b425018$var$pixabayApi.page === 1) {\n            $aa889b584b425018$var$refs.galleryListEl.innerHTML = (0, $9l3Zi.galleryTemplate)(data.hits);\n            $aa889b584b425018$var$simple.refresh();\n            (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Notify.success(`Hooray! We found ${data.totalHits} images.`);\n            $aa889b584b425018$var$refs.loadMoreBtn.classList.remove(\"is-hidden\");\n        }\n    } catch (err) {\n        console.log(`Error: ${err}`);\n    }\n}\nasync function $aa889b584b425018$var$onloadMoreBtnClick(event) {\n    $aa889b584b425018$var$pixabayApi.page += 1;\n    try {\n        const data = await $aa889b584b425018$var$pixabayApi.getGalleryCard();\n        $aa889b584b425018$var$refs.galleryListEl.insertAdjacentHTML(\"beforeend\", (0, $9l3Zi.galleryTemplate)(data.hits));\n        $aa889b584b425018$var$simple.refresh();\n        $aa889b584b425018$var$refs.loadMoreBtn.classList.remove(\"is-hidden\");\n        const { height: cardHeight } = document.querySelector(\".gallery\").firstElementChild.getBoundingClientRect();\n        window.scrollBy({\n            top: cardHeight * 2,\n            behavior: \"smooth\"\n        });\n        if ($aa889b584b425018$var$pixabayApi.page === Math.floor(data.totalHits / $aa889b584b425018$var$pixabayApi.per_page)) {\n            $aa889b584b425018$var$refs.loadMoreBtn.classList.add(\"is-hidden\");\n            (0, (/*@__PURE__*/$parcel$interopDefault($7Y9D8))).Notify.info(\"Sorry, but you have reached the end of the search results\");\n        }\n    } catch (err) {\n        console.log(`Error: ${err}`);\n    }\n}\n\n\n//# sourceMappingURL=index.c3cc28bf.js.map\n","import Notiflix from 'notiflix';\nimport { galleryTemplate } from \"./template\";\nimport { PixabayAPI, axios } from './axios';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n    formEL: document.querySelector('#search-form'),\n    galleryListEl: document.querySelector('.gallery'),\n    loadMoreBtn: document.querySelector('.load-more'),\n    \n}\n\nconst simple = new SimpleLightbox('.gallery a');\nconst pixabayApi = new PixabayAPI();\n\nrefs.formEL.addEventListener('submit', onFormElSubmit);\nrefs.loadMoreBtn.addEventListener('click', onloadMoreBtnClick);\n\nasync function onFormElSubmit(event) {\n    event.preventDefault();\n\n    pixabayApi.q = event.target.elements.searchQuery.value.trim();\n    pixabayApi.page = 1;\n\n    if (pixabayApi.q === '') {\n        Notiflix.Notify.failure('Enter a word to search for');\n        refs.loadMoreBtn.classList.add('is-hidden');\n        return;\n    } \n\n    try {\n    \n        const data = await pixabayApi.getGalleryCard();\n        \n    if (data.total === 0) {\n         Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n        refs.loadMoreBtn.classList.add('is-hidden');\n        event.target.reset();\n\n        refs.galleryListEl.innerHTML = '';\n    \n        return;\n    }\n        \n    if (pixabayApi.page === 1) {\n        refs.galleryListEl.innerHTML = galleryTemplate(data.hits);\n        simple.refresh();\n        Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`)       \n        refs.loadMoreBtn.classList.remove('is-hidden');                  \n    } \n    } catch (err) {\n        console.log(`Error: ${err}`)\n    }\n\n\n}\n \n async function onloadMoreBtnClick(event) {\n    pixabayApi.page += 1;\n    try {\n        const data = await pixabayApi.getGalleryCard();\n        refs.galleryListEl.insertAdjacentHTML('beforeend', galleryTemplate(data.hits));\n        simple.refresh();\n        refs.loadMoreBtn.classList.remove('is-hidden');\n        const { height: cardHeight } = document.querySelector(\".gallery\").firstElementChild.getBoundingClientRect();\n\n        window.scrollBy({\n            top: cardHeight * 2,\n            behavior: \"smooth\",\n        });\n        \n        if (pixabayApi.page === Math.floor(data.totalHits / pixabayApi.per_page)) {\n            refs.loadMoreBtn.classList.add('is-hidden');\n            Notiflix.Notify.info('Sorry, but you have reached the end of the search results');\n        }\n    } catch (err) {\n        console.log(`Error: ${err}`)\n    }\n}\n\n"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$7Y9D8","$9l3Zi","$jcbua","$fZKcF","$aa889b584b425018$var$refs","formEL","document","querySelector","galleryListEl","loadMoreBtn","$aa889b584b425018$var$simple","$aa889b584b425018$var$pixabayApi","PixabayAPI","$aa889b584b425018$var$onFormElSubmit","event","preventDefault","q","target","elements","searchQuery","value","trim","page","Notify","failure","classList","add","data","getGalleryCard","total","reset","innerHTML","galleryTemplate","hits","refresh","success","totalHits","remove","console","log","$aa889b584b425018$var$onloadMoreBtnClick","insertAdjacentHTML","height","cardHeight","firstElementChild","getBoundingClientRect","scrollBy","top","behavior","Math","floor","per_page","info","addEventListener"],"version":3,"file":"index.c3cc28bf.js.map"}