{"mappings":"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","sources":["<anon>","src/js-gallery/scroll-template.js"],"sourcesContent":["(function () {\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\nvar $parcel$global =\ntypeof globalThis !== 'undefined'\n  ? globalThis\n  : typeof self !== 'undefined'\n  ? self\n  : typeof window !== 'undefined'\n  ? window\n  : typeof global !== 'undefined'\n  ? global\n  : {};\nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequired7c6\"];\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequired7c6\"] = parcelRequire;\n}\n\nvar $6JpON = parcelRequire(\"6JpON\");\n\nvar $97kl9 = parcelRequire(\"97kl9\");\n\nvar $8Cjk9 = parcelRequire(\"8Cjk9\");\n\nvar $5IjG7 = parcelRequire(\"5IjG7\");\n\nconst $bcc9167cd8f0d5bb$var$refs = {\n    formEL: document.querySelector(\"#search-form\"),\n    galleryListEl: document.querySelector(\".gallery\"),\n    loader: document.querySelector(\".loader\")\n};\nconst $bcc9167cd8f0d5bb$var$simple = new (0, (/*@__PURE__*/$parcel$interopDefault($5IjG7)))(\".gallery a\");\nconst $bcc9167cd8f0d5bb$var$pixabayApi = new (0, $8Cjk9.PixabayAPI)();\n$bcc9167cd8f0d5bb$var$refs.formEL.addEventListener(\"submit\", $bcc9167cd8f0d5bb$var$onFormElSubmit);\nwindow.addEventListener(\"scroll\", $bcc9167cd8f0d5bb$var$onWindowScroll);\nasync function $bcc9167cd8f0d5bb$var$onFormElSubmit(event) {\n    event.preventDefault();\n    $bcc9167cd8f0d5bb$var$pixabayApi.q = event.target.elements.searchQuery.value.trim();\n    $bcc9167cd8f0d5bb$var$pixabayApi.page = 1;\n    if ($bcc9167cd8f0d5bb$var$pixabayApi.q === \"\") {\n        (0, (/*@__PURE__*/$parcel$interopDefault($6JpON))).Notify.failure(\"Enter a word to search for\");\n        $bcc9167cd8f0d5bb$var$refs.loader.classList.add(\"is-hidden\");\n        return;\n    }\n    try {\n        const data = await $bcc9167cd8f0d5bb$var$pixabayApi.getGalleryCard();\n        if (data.total === 0) {\n            (0, (/*@__PURE__*/$parcel$interopDefault($6JpON))).Notify.failure(\"Sorry, there are no images matching your search query. Please try again.\");\n            $bcc9167cd8f0d5bb$var$refs.loader.classList.add(\"is-hidden\");\n            event.target.reset();\n            $bcc9167cd8f0d5bb$var$refs.galleryListEl.innerHTML = \"\";\n            return;\n        }\n        if ($bcc9167cd8f0d5bb$var$pixabayApi.page === 1) {\n            $bcc9167cd8f0d5bb$var$refs.galleryListEl.innerHTML = (0, $97kl9.galleryTemplate)(data.hits);\n            $bcc9167cd8f0d5bb$var$simple.refresh();\n            (0, (/*@__PURE__*/$parcel$interopDefault($6JpON))).Notify.success(`Hooray! We found ${data.totalHits} images.`);\n            $bcc9167cd8f0d5bb$var$refs.loader.classList.remove(\"is-hidden\");\n        }\n    } catch (err) {\n        console.log(`Error: ${err}`);\n    }\n}\nasync function $bcc9167cd8f0d5bb$var$onWindowScroll() {\n    const endOfPage = window.innerHeight + window.pageYOffset >= document.body.offsetHeight;\n    if (endOfPage) {\n        window.removeEventListener(\"scroll\", $bcc9167cd8f0d5bb$var$onWindowScroll);\n        $bcc9167cd8f0d5bb$var$refs.loader.classList.remove(\"is-hidden\");\n        $bcc9167cd8f0d5bb$var$pixabayApi.page += 1;\n        try {\n            const data = await $bcc9167cd8f0d5bb$var$pixabayApi.getGalleryCard();\n            $bcc9167cd8f0d5bb$var$refs.galleryListEl.insertAdjacentHTML(\"beforeend\", (0, $97kl9.galleryTemplate)(data.hits));\n            $bcc9167cd8f0d5bb$var$simple.refresh();\n            const { height: cardHeight } = document.querySelector(\".gallery\").firstElementChild.getBoundingClientRect();\n            window.scrollBy({\n                top: cardHeight * 2,\n                behavior: \"smooth\"\n            });\n            if ($bcc9167cd8f0d5bb$var$pixabayApi.page === Math.floor(data.totalHits / $bcc9167cd8f0d5bb$var$pixabayApi.per_page)) {\n                $bcc9167cd8f0d5bb$var$refs.loader.classList.add(\"is-hidden\");\n                (0, (/*@__PURE__*/$parcel$interopDefault($6JpON))).Notify.info(\"Sorry, but you have reached the end of the search results\");\n                return;\n            } else window.addEventListener(\"scroll\", $bcc9167cd8f0d5bb$var$onWindowScroll);\n        } catch (err) {\n            console.log(`Error: ${err}`);\n        }\n    }\n}\n\n})();\n//# sourceMappingURL=index.25f5bc5a.js.map\n","import Notiflix from 'notiflix';\nimport { galleryTemplate } from \"./template\";\nimport { PixabayAPI} from './axios';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst refs = {\n    formEL: document.querySelector('#search-form'),\n    galleryListEl: document.querySelector('.gallery'),\n    loader: document.querySelector('.loader'),\n}\n\nconst simple = new SimpleLightbox('.gallery a');\nconst pixabayApi = new PixabayAPI();\n\nrefs.formEL.addEventListener('submit', onFormElSubmit);\nwindow.addEventListener('scroll', onWindowScroll);\n\nasync function onFormElSubmit(event) {\n    event.preventDefault();\n\n    pixabayApi.q = event.target.elements.searchQuery.value.trim();\n    pixabayApi.page = 1;\n\n    if (pixabayApi.q === '') {\n        Notiflix.Notify.failure('Enter a word to search for');\n        refs.loader.classList.add('is-hidden');\n        return;\n    } \n    try {\n        const data = await pixabayApi.getGalleryCard();\n        \n        if (data.total === 0) {\n            Notiflix.Notify.failure('Sorry, there are no images matching your search query. Please try again.');\n            refs.loader.classList.add('is-hidden');\n            event.target.reset();\n            refs.galleryListEl.innerHTML = '';   \n            return;\n        }\n            \n        if (pixabayApi.page === 1) {\n            refs.galleryListEl.innerHTML = galleryTemplate(data.hits);\n            simple.refresh();\n            Notiflix.Notify.success(`Hooray! We found ${data.totalHits} images.`)       \n            refs.loader.classList.remove('is-hidden');                  \n        } \n    } catch (err) {\n        console.log(`Error: ${err}`)\n    }\n}\n\nasync function onWindowScroll() {\n    const endOfPage = window.innerHeight + window.pageYOffset >= document.body.offsetHeight;\n    if (endOfPage) {\n        window.removeEventListener('scroll', onWindowScroll);\n        refs.loader.classList.remove('is-hidden');              \n        pixabayApi.page += 1;\n        try { \n            const data = await pixabayApi.getGalleryCard()\n            refs.galleryListEl.insertAdjacentHTML('beforeend', galleryTemplate(data.hits));\n            simple.refresh();\n\n            const { height: cardHeight } = document.querySelector(\".gallery\").firstElementChild.getBoundingClientRect();\n            window.scrollBy({\n                top: cardHeight * 2,\n                behavior: \"smooth\",\n            });\n\n            if (pixabayApi.page === Math.floor(data.totalHits / pixabayApi.per_page)) {    \n                refs.loader.classList.add('is-hidden');\n                Notiflix.Notify.info('Sorry, but you have reached the end of the search results');\n                return;\n            } else {\n                window.addEventListener('scroll', onWindowScroll);\n            }\n        } catch (err) {\n            console.log(`Error: ${err}`)\n        };       \n    };\n}"],"names":["$parcel$interopDefault","a","__esModule","default","$parcel$global","globalThis","self","window","global","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$6JpON","$97kl9","$8Cjk9","$5IjG7","$bcc9167cd8f0d5bb$var$refs","formEL","document","querySelector","galleryListEl","loader","$bcc9167cd8f0d5bb$var$simple","$bcc9167cd8f0d5bb$var$pixabayApi","PixabayAPI","$bcc9167cd8f0d5bb$var$onFormElSubmit","event","preventDefault","q","target","elements","searchQuery","value","trim","page","Notify","failure","classList","add","data","getGalleryCard","total","reset","innerHTML","galleryTemplate","hits","refresh","success","totalHits","remove","console","log","$bcc9167cd8f0d5bb$var$onWindowScroll","endOfPage","innerHeight","pageYOffset","body","offsetHeight","removeEventListener","insertAdjacentHTML","height","cardHeight","firstElementChild","getBoundingClientRect","scrollBy","top","behavior","Math","floor","per_page","info","addEventListener"],"version":3,"file":"index.25f5bc5a.js.map"}